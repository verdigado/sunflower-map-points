{"version":3,"file":"map/index.js","mappings":"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AC,OAAO;YACZR,QAAQ,EAAG5E;UAAgB,CAC3B,CAAC;QAAA,CACQ;MAAC,CACM;IAAC,CACnB,CAAC;EAAA,CAEA,CAAC;AAER,C;;;;;;;;;;;;;;;;ACnRA;AACA;AACA;AACA;AACA;AACsD;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACsB;;AAEtB;AACA;AACA;AAC0B;AACU;;AAEpC;AACA;AACA;AACA;AACA;AACAqF,oEAAiB,CAAEC,6CAAa,EAAE;EACjC;AACD;AACA;EACCE,IAAI,EAAEpG,6CAAI;EACVqG,IAAI,EAAEA,CAAA,KAAM;IACX,OAAO,IAAI,CAAC,CAAC;EACd;AACD,CAAE,CAAC,C;;;;;;;;;;;ACnCH;;;;;;;;;;;ACAA,6C;;;;;;;;;;ACAA,wC;;;;;;;;;;ACAA,4C;;;;;;;;;;ACAA,yC;;;;;;;;;;ACAA,sC;;;;;;;;;;ACAA,2C;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,E;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA,4G;;;;;UEjDA;UACA;UACA;UACA;UACA","sources":["webpack://sunflower-map-points/./src/map/edit.js","webpack://sunflower-map-points/./src/map/index.js","webpack://sunflower-map-points/./src/map/style.scss?e840","webpack://sunflower-map-points/external window [\"wp\",\"blockEditor\"]","webpack://sunflower-map-points/external window [\"wp\",\"blocks\"]","webpack://sunflower-map-points/external window [\"wp\",\"components\"]","webpack://sunflower-map-points/external window [\"wp\",\"element\"]","webpack://sunflower-map-points/external window [\"wp\",\"i18n\"]","webpack://sunflower-map-points/external window \"ReactJSXRuntime\"","webpack://sunflower-map-points/webpack/bootstrap","webpack://sunflower-map-points/webpack/runtime/chunk loaded","webpack://sunflower-map-points/webpack/runtime/compat get default export","webpack://sunflower-map-points/webpack/runtime/define property getters","webpack://sunflower-map-points/webpack/runtime/hasOwnProperty shorthand","webpack://sunflower-map-points/webpack/runtime/make namespace object","webpack://sunflower-map-points/webpack/runtime/jsonp chunk loading","webpack://sunflower-map-points/webpack/before-startup","webpack://sunflower-map-points/webpack/startup","webpack://sunflower-map-points/webpack/after-startup"],"sourcesContent":["/* global L */\n/* global sunflowerMapPoints */\n/**\n * Retrieves the translation of text.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-i18n/\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * React hook that is used to mark the block wrapper element.\n * It provides all the necessary props like the class name.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-block-editor/#useblockprops\n */\nimport { useBlockProps, InspectorControls } from '@wordpress/block-editor';\n\nimport {\n\tRangeControl,\n\tPanelBody,\n\tPanelRow,\n\tTextControl,\n\t__experimentalNumberControl as NumberControl,\n} from '@wordpress/components';\nimport { useLayoutEffect, useEffect, useRef } from '@wordpress/element';\n\n/**\n * The edit function describes the structure of your block in the context of the\n * editor. This represents what the editor will render when the block is used.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-edit-save/#edit\n *\n * @param {Object}   props               React props.\n * @param {Object}   props.attributes\n * @param {Function} props.setAttributes\n * @return {Element} Element to render.\n */\nexport default function Edit( { attributes, setAttributes } ) {\n\tconst { lat, lng, zoom, height, mailTo } = attributes;\n\tconst mapContainerRef = useRef( null );\n\tconst leafletMapRef = useRef( null );\n\tconst blockProps = useBlockProps( {\n\t\tclassName: 'row',\n\t} );\n\n\tconst onChangeMailTo = ( input ) => {\n\t\tsetAttributes( { mailTo: input === undefined ? '' : input } );\n\t};\n\n\tuseLayoutEffect( () => {\n\t\tif ( typeof L === 'undefined' ) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error( __( 'Leaflet is not available', 'sunflower-map-points-map' ) );\n\t\t\treturn;\n\t\t}\n\n\t\t// Verhindern, dass die Karte mehrfach initialisiert wird\n\t\tif ( ! mapContainerRef.current || leafletMapRef.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst map = L.map( mapContainerRef.current, {\n\t\t\tscrollWheelZoom: true,\n\t\t\tdragging: true,\n\t\t\tfullscreenControl: true,\n\t\t} ).setView( [ attributes.lat, attributes.lng ], attributes.zoom );\n\n\t\tL.tileLayer( 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n\t\t\tattribution: '© OpenStreetMap contributors',\n\t\t\tmaxZoom: 18,\n\t\t} ).addTo( map );\n\n\t\t// Custom \"Locate Me\" Control\n\t\tL.Control.LocateControl = L.Control.extend( {\n\t\t\tonAdd() {\n\t\t\t\tconst container = L.DomUtil.create(\n\t\t\t\t\t'div',\n\t\t\t\t\t'leaflet-bar leaflet-control leaflet-control-custom'\n\t\t\t\t);\n\n\t\t\t\tcontainer.innerHTML =\n\t\t\t\t\t'<i class=\"fa-solid fa-location-crosshairs\"></i>';\n\t\t\t\tcontainer.style.backgroundColor = 'white';\n\t\t\t\tcontainer.style.width = '34px';\n\t\t\t\tcontainer.style.height = '34px';\n\t\t\t\tcontainer.style.display = 'flex';\n\t\t\t\tcontainer.style.alignItems = 'center';\n\t\t\t\tcontainer.style.justifyContent = 'center';\n\t\t\t\tcontainer.style.cursor = 'pointer';\n\n\t\t\t\tcontainer.onclick = function () {\n\t\t\t\t\tmap.locate( { setView: true, maxZoom: 15 } );\n\t\t\t\t};\n\n\t\t\t\t// Mausinteraktion auf der Karte nicht blockieren\n\t\t\t\tL.DomEvent.disableClickPropagation( container );\n\n\t\t\t\treturn container;\n\t\t\t},\n\t\t} );\n\n\t\tmap.addControl(\n\t\t\tnew L.Control.LocateControl( { position: 'topright' } )\n\t\t);\n\n\t\tmap.on( 'locationfound', function ( e ) {\n\t\t\tL.marker( e.latlng )\n\t\t\t\t.addTo( map )\n\t\t\t\t.bindPopup(__( 'Your are here!', 'sunflower-map-points-map' ) )\n\t\t\t\t.openPopup();\n\n\t\t\tL.circle( e.latlng, {\n\t\t\t\tradius: e.accuracy,\n\t\t\t\tcolor: '#136aec',\n\t\t\t\tfillColor: '#136aec',\n\t\t\t\tfillOpacity: 0.2,\n\t\t\t} ).addTo( map );\n\t\t} );\n\n\t\tmap.on( 'locationerror', function ( e ) {\n\t\t\t// eslint-disable-next-line no-alert, no-undef\n\t\t\talert( __( 'Your location couldn\\'t be found.', 'sunflower-map-points-map' ) + '\\n' + e.message );\n\t\t} );\n\n\t\t// Klick auf Karte → Marker + Attribute setzen\n\t\tmap.on( 'click', function ( e ) {\n\t\t\tconst { lat: clickedLat, lng: clickedLng } = e.latlng;\n\n\t\t\t// marker icon\n\t\t\tconst customIcon = L.icon( {\n\t\t\t\ticonUrl: sunflowerMapPoints.maps_marker,\n\t\t\t\ticonSize: [ 25, 41 ],\n\t\t\t\ticonAnchor: [ 12, 41 ],\n\t\t\t\tpopupAnchor: [ 0, -25 ],\n\t\t\t} );\n\n\t\t\t// remove old marker icon\n\t\t\tif ( map._marker ) {\n\t\t\t\tmap.removeLayer( map._marker );\n\t\t\t}\n\n\t\t\t// set new marker\n\t\t\tmap._marker = L.marker( [ clickedLat, clickedLng ], {\n\t\t\t\ticon: customIcon,\n\t\t\t} ).addTo( map );\n\n\t\t\t// center map on new marker position\n\t\t\tmap.setView( [ clickedLat, clickedLng ], map.getZoom() );\n\n\t\t\t// Workaround to enable dragging in Gutenberg editor.\n\t\t\tmap.dragging.disable();\n\t\t\tmap.dragging.enable();\n\n\t\t\tsetAttributes( {\n\t\t\t\tlat: parseFloat( clickedLat.toFixed( 6 ) ),\n\t\t\t\tlng: parseFloat( clickedLng.toFixed( 6 ) ),\n\t\t\t} );\n\t\t} );\n\n\t\tmap.on( 'zoomend', function () {\n\t\t\tconst currentZoom = map.getZoom();\n\t\t\tsetAttributes( { zoom: currentZoom } );\n\t\t} );\n\n\t\tleafletMapRef.current = map;\n\t}, [ attributes.lat, attributes.lng, attributes.zoom, setAttributes ] );\n\n\tuseEffect( () => {\n\t\tconst map = leafletMapRef.current;\n\t\tif ( map && typeof map.setZoom === 'function' ) {\n\t\t\tmap.setZoom( attributes.zoom );\n\t\t}\n\t}, [ attributes.zoom ] );\n\n\treturn (\n\t\t<div { ...blockProps }>\n\t\t\t{\n\t\t\t\t<>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"map-container\"\n\t\t\t\t\t\tstyle={ { height: `${ attributes.height || 400 }px` } }\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tref={ mapContainerRef }\n\t\t\t\t\t\t\tstyle={ { width: '100%', height: '100%' } }\n\t\t\t\t\t\t\tid=\"leaflet-editor-map\"\n\t\t\t\t\t\t></div>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t}\n\t\t\t{\n\t\t\t\t<>\n\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\t\ttitle={ __(\n\t\t\t\t\t\t\t\t\t'Map Settings',\n\t\t\t\t\t\t\t\t\t'sunflower-map-points-map'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<p className=\"components-base-control__help\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Click into the map and move to the right position. The position and zoom level will be used in the map settings.',\n\t\t\t\t\t\t\t\t\t'sunflower-map-points-map'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t'Latitude',\n\t\t\t\t\t\t\t\t\t'sunflower-map-points-map'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tvalue={ lat }\n\t\t\t\t\t\t\t\tonChange={ ( val ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { lat: parseFloat( val ) } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t'Longitude',\n\t\t\t\t\t\t\t\t\t'sunflower-map-points-map'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tvalue={ lng }\n\t\t\t\t\t\t\t\tonChange={ ( val ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { lng: parseFloat( val ) } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t'Zoom',\n\t\t\t\t\t\t\t\t\t'sunflower-map-points-map'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tvalue={ zoom }\n\t\t\t\t\t\t\t\tonChange={ ( val ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { zoom: val } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\t\tmax={ 18 }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<NumberControl\n\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t'Height',\n\t\t\t\t\t\t\t\t\t'sunflower-map-points-map'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tvalue={ height }\n\t\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\t\tconst parsed = parseInt( value );\n\t\t\t\t\t\t\t\t\tif ( parsed >= 100 && parsed <= 1000 ) {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { height: parsed } );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tmin={ 100 }\n\t\t\t\t\t\t\t\tmax={ 1000 }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t'Mail To',\n\t\t\t\t\t\t\t\t\t'sunflower-map-points-map'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t'Mail form to this address instead of default receiver.',\n\t\t\t\t\t\t\t\t\t'sunflower-map-points-map'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tvalue={ mailTo }\n\t\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t\t'default receiver',\n\t\t\t\t\t\t\t\t\t'sunflower-map-points-map'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\tonChange={ onChangeMailTo }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t</InspectorControls>\n\t\t\t\t</>\n\t\t\t}\n\t\t</div>\n\t);\n}\n","/**\n * Registers a new block provided a unique name and an object defining its behavior.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Lets webpack process CSS, SASS or SCSS files referenced in JavaScript files.\n * All files containing `style` keyword are bundled together. The code used\n * gets applied both to the front of your site and to the editor.\n *\n * @see https://www.npmjs.com/package/@wordpress/scripts#using-css\n */\nimport './style.scss';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport metadata from './block.json';\n\n/**\n * Every block starts by registering a new block type definition.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\nregisterBlockType( metadata.name, {\n\t/**\n\t * @see ./edit.js\n\t */\n\tedit: Edit,\n\tsave: () => {\n\t\treturn null; // PHP-Render übernimmt das\n\t},\n} );\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"map/index\": 0,\n\t\"map/style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunksunflower_map_points\"] = globalThis[\"webpackChunksunflower_map_points\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"map/style-index\"], () => (__webpack_require__(\"./src/map/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["__","useBlockProps","InspectorControls","RangeControl","PanelBody","PanelRow","TextControl","__experimentalNumberControl","NumberControl","useLayoutEffect","useEffect","useRef","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Edit","attributes","setAttributes","lat","lng","zoom","height","mailTo","mapContainerRef","leafletMapRef","blockProps","className","onChangeMailTo","input","undefined","L","console","error","current","map","scrollWheelZoom","dragging","fullscreenControl","setView","tileLayer","attribution","maxZoom","addTo","Control","LocateControl","extend","onAdd","container","DomUtil","create","innerHTML","style","backgroundColor","width","display","alignItems","justifyContent","cursor","onclick","locate","DomEvent","disableClickPropagation","addControl","position","on","e","marker","latlng","bindPopup","openPopup","circle","radius","accuracy","color","fillColor","fillOpacity","alert","message","clickedLat","clickedLng","customIcon","icon","iconUrl","sunflowerMapPoints","maps_marker","iconSize","iconAnchor","popupAnchor","_marker","removeLayer","getZoom","disable","enable","parseFloat","toFixed","currentZoom","setZoom","children","ref","id","title","label","value","onChange","val","min","max","parsed","parseInt","help","placeholder","type","registerBlockType","metadata","name","edit","save"],"sourceRoot":""}